<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_14widec" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="obrada_teksta" name="Obrada_teksta" isExecutable="true" camunda:candidateStarterGroups="autori">
    <bpmn:startEvent id="StartEvent_1" camunda:initiator="pokretac">
      <bpmn:outgoing>SequenceFlow_06h1a9d</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_06h1a9d" sourceRef="StartEvent_1" targetRef="Task_01ocn8q" />
    <bpmn:userTask id="Task_01ocn8q" name="Biranje casopisa" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="casopis" label="Izaberite časopis u kom želite da objavite rad" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_06h1a9d</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pw4g6v</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_0rsoy42">
      <bpmn:incoming>SequenceFlow_1dv8tvg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1pw4g6v" sourceRef="Task_01ocn8q" targetRef="Task_01fyplv" />
    <bpmn:sequenceFlow id="SequenceFlow_0sz8fze" sourceRef="Task_01fyplv" targetRef="ServiceTask_0kciy5t" />
    <bpmn:serviceTask id="Task_01fyplv" name="Provera da li je on open-access" camunda:class="com.naucnacentrala.NaucnaCentrala.services.tasks.OpenAccessProvera">
      <bpmn:incoming>SequenceFlow_1pw4g6v</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0sz8fze</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_00ockiu">
      <bpmn:incoming>SequenceFlow_1okqclf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ojcuzh</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0tlkyfp</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0ojcuzh" sourceRef="ExclusiveGateway_00ockiu" targetRef="ExclusiveGateway_1t9dosd">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("openaccess")==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1t9dosd">
      <bpmn:incoming>SequenceFlow_0ojcuzh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1c73se4</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1ora5e8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1c73se4" sourceRef="ExclusiveGateway_1t9dosd" targetRef="Task_1swk4nk">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("imaclanarinu")==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ora5e8" sourceRef="ExclusiveGateway_1t9dosd" targetRef="Task_0rz08j8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("imaclanarinu")==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_1swk4nk" name="Informacije o radu" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov rada" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="br_koautora" label="Broj koautora" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucni_pojmovi" label="Ključni pojmovi" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstrakt" label="Apstrakt" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="naucna_oblast" label="Primarna naučna oblast" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1c73se4</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0tlkyfp</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_00icp8u</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0kilsgs</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0tlkyfp" sourceRef="ExclusiveGateway_00ockiu" targetRef="Task_1swk4nk">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("openaccess")==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_00icp8u" sourceRef="Task_0rz08j8" targetRef="Task_1swk4nk" />
    <bpmn:callActivity id="Task_0rz08j8" name="Uplata clanarine" calledElement="uplata_clanarine">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out variables="all" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1ora5e8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_00icp8u</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="SequenceFlow_1wedvfn" sourceRef="Task_1lt2i47" targetRef="Task_0iov86n" />
    <bpmn:serviceTask id="Task_1lt2i47" name="Odabir glavnog urednika" camunda:class="com.naucnacentrala.NaucnaCentrala.services.tasks.PronalazenjeGlavnogUrednika">
      <bpmn:incoming>SequenceFlow_1dzxmo0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wedvfn</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1w3fxv3" sourceRef="Task_0iov86n" targetRef="Task_0aojsa7" />
    <bpmn:serviceTask id="Task_0iov86n" name="Slanje emaila autoru i gl. uredniku" camunda:class="com.naucnacentrala.NaucnaCentrala.services.tasks.MejlAutoruUredniku">
      <bpmn:incoming>SequenceFlow_1wedvfn</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0562f56</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1w3fxv3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0bzcj84" sourceRef="Task_0aojsa7" targetRef="ExclusiveGateway_1gmdxef" />
    <bpmn:userTask id="Task_0aojsa7" name="Obradjivanje rada" camunda:assignee="${execution.getVariable(&#34;glavniUrednik&#34;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov_rada" label="Naslov rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_naslov&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstrakt_prikaz" label="Apstrakt rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_apstrakt&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucni_pojmovi_prikaz" label="Ključni pojmovi" type="string" defaultValue="${execution.getVariable(&#34;konacan_kljuc_poj&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="nau_obl_prikaz" label="Naučna oblast" type="string" defaultValue="${execution.getVariable(&#34;konacan_nauc_obl&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="relevantan_rad" label="Rad je relevantan za naučnu obast?" type="boolean" defaultValue="false" />
          <camunda:formField id="dobro_formiran" label="Rad je dobro formiran?" type="boolean" defaultValue="false" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1w3fxv3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0bzcj84</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1gmdxef">
      <bpmn:incoming>SequenceFlow_0bzcj84</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zcduqg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0v7bff0</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0zcduqg" sourceRef="ExclusiveGateway_1gmdxef" targetRef="ExclusiveGateway_13zvubl">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${relevantan_rad==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_06wwemk">
      <bpmn:incoming>SequenceFlow_0dukg1b</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0v7bff0" sourceRef="ExclusiveGateway_1gmdxef" targetRef="Task_0yjxfow">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${relevantan_rad==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_13zvubl">
      <bpmn:incoming>SequenceFlow_0zcduqg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13wto9w</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0v1qrlt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_13wto9w" sourceRef="ExclusiveGateway_13zvubl" targetRef="Task_0doofr4">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${dobro_formiran==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0v1qrlt" sourceRef="ExclusiveGateway_13zvubl" targetRef="Task_17w29jh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${dobro_formiran==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_1foeowx" name="Mejl notifikacija korekcije prijave" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0sdpw9q</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0j8emh4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0sdpw9q" sourceRef="Task_17w29jh" targetRef="Task_1foeowx" />
    <bpmn:userTask id="Task_17w29jh" name="Komentar urednika" camunda:assignee="mary">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentar_ur" label="Komentar za autora" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0v1qrlt</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0sdpw9q</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0j8emh4" sourceRef="Task_1foeowx" targetRef="UserTask_15l8kbk" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0ex1rec" attachedToRef="UserTask_15l8kbk">
      <bpmn:outgoing>SequenceFlow_1dqs1x4</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT70S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1dqs1x4" sourceRef="IntermediateThrowEvent_0ex1rec" targetRef="Task_1maw3eh" />
    <bpmn:serviceTask id="Task_1maw3eh" name="Poruka o neispunjenom zadatku" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_1dqs1x4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0trmaww</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_17998l0">
      <bpmn:incoming>SequenceFlow_0trmaww</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0trmaww" sourceRef="Task_1maw3eh" targetRef="EndEvent_17998l0" />
    <bpmn:sequenceFlow id="SequenceFlow_1omgf67" sourceRef="Task_0doofr4" targetRef="Task_1jgzrd5" />
    <bpmn:serviceTask id="Task_0doofr4" name="Sistem bira urednika NO" camunda:expression="{true}" camunda:resultVariable="urednikNO">
      <bpmn:incoming>SequenceFlow_13wto9w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1omgf67</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_01ksx6s" sourceRef="Task_0nvcp2z" targetRef="ExclusiveGateway_08qcdzl" />
    <bpmn:scriptTask id="Task_0nvcp2z" name="rcz, count set" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_1wio9nl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_01ksx6s</bpmn:outgoing>
      <bpmn:script>var rcn = execution.getVariable("br_recenzenata");
execution.setVariable("br_rec", rcn);
if(execution.getVariable("casopis")!="casopis2"){
execution.setVariable("ko_bira", "mary");
} else {
execution.setVariable("ko_bira", "ragnar");
}

var recen = execution.getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();
if(recen == null) {
execution.setVariable("br_rec", 0);
}</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_08qcdzl">
      <bpmn:incoming>SequenceFlow_050t4ko</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_01ksx6s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1okhdr2</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_18xm6ek</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1okhdr2" sourceRef="ExclusiveGateway_08qcdzl" targetRef="Task_137rnoe">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("br_rec")!=0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="Task_137rnoe" name="brojac" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_1okhdr2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cm04d8</bpmn:outgoing>
      <bpmn:script>var rc = execution.getVariable("br_rec");
rc = rc - 1;
execution.setVariable("br_rec", rc);</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_0cm04d8" sourceRef="Task_137rnoe" targetRef="Task_0y9s6dy" />
    <bpmn:userTask id="Task_0y9s6dy" name="Izbor recenzenata" camunda:assignee="${ko_bira}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="recenzent" label="Recenzent" type="enum" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recen = task.getExecution().getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

formFields = taskFormData.getFormFields();
vec_izabrani = task.getExecution().getVariable("izabrani_recenzenti");
if(formFields!=null) {
   for(field in formFields) {
       if( field.getId() == "recenzent") {
           //ovo je nase select polje
           items = field.getType().getValues();
           tempo = "nema";
           for(user in recen) {
                if(vec_izabrani != null) {
                    for(izb in vec_izabrani) {
                        if(izb.getId() == user.getId()) {
                            tempo = "ima";
                            break;
                        }
                    }
                    if(tempo == "nema") {
                        items.put(user.getId(),user.getFirstName()+" "+user.getLastName());
                    }
                } else {
                    items.put(user.getId(),user.getFirstName()+" "+user.getLastName());
                }
           }
       }
   }
}</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
if(task.getExecution().getVariable("usersList") != null) {
userIds = task.getExecution().getVariable("usersList");
} else {
userIds = new java.util.ArrayList();
}

formFields = taskFormData. getFormFields();
if(formFields!=null) {
   for(field in formFields) {
       if(field.getId() == "recenzent"){
           if(field.getValue()!="none") {
                userIds.add(field.getValue());
                if(task.getExecution().getVariable("izabrani_recenzenti") == null) {
                    //iz_rc = new java.util.ArrayList();
                    //iz_rc.add(field.getValue().getValue());
                    //task.getExecution().setVariable("izabrani_recenzenti", iz_rc);
                } else {
                    task.getExecution().getVariable("izabrani_recenzenti").add(field.getValue());
                }
           }
       }
   }
}

task.getExecution().setVariable("usersList", userIds);</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0cm04d8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1r162xz</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1r162xz" sourceRef="Task_0y9s6dy" targetRef="ExclusiveGateway_1mvcc56" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_1mvcc56">
      <bpmn:incoming>SequenceFlow_1r162xz</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0xvmhmy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1q7bl5q</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_050t4ko</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1q7bl5q" sourceRef="ExclusiveGateway_1mvcc56" targetRef="Task_0eg9wz8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("br_rec")==0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_050t4ko" sourceRef="ExclusiveGateway_1mvcc56" targetRef="ExclusiveGateway_08qcdzl">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("br_rec")!=0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_18xm6ek" sourceRef="ExclusiveGateway_08qcdzl" targetRef="Task_13zd2iz">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${execution.getVariable("br_rec")==0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0xvmhmy" sourceRef="Task_13zd2iz" targetRef="ExclusiveGateway_1mvcc56" />
    <bpmn:serviceTask id="Task_13zd2iz" name="Obavestiti glavnog urednika da nema recen. te da je on recen." camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_18xm6ek</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0xvmhmy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1piq5ox" sourceRef="Task_00qk1br" targetRef="Task_0og9ju5" />
    <bpmn:userTask id="Task_00qk1br" name="Obavljanje recenzije" camunda:assignee="${JedRec}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentar_o_radu" label="Komentar o radu" type="string" />
          <camunda:formField id="preporuka" label="Preporuka za objavljivanje" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="prihvatiti" name="Prihvatiti" />
            <camunda:value id="manje_ispravke" name="Prihvatiti uz manje ispravke" />
            <camunda:value id="uslovno" name="Prihvatiti uz veće ispravke" />
            <camunda:value id="odbiti" name="Odbiti" />
          </camunda:formField>
          <camunda:formField id="komentar_za_urednike" label="Komentar za urednike" type="string" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">ko_recenzira = new java.util.ArrayList();
if(task.getExecution().getVariable("usersList") == null) {
ko_recenzira.add("mary");
} else {
ko_recenzira = task.getExecution().getVariable("usersList");
}
task.getExecution().setVariable("koRecenzira", ko_recenzira );</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">task.getExecution().getVariable("komentari_za_autore").add(komentar_o_radu);
task.getExecution().getVariable("komentari_za_urednike").add(komentar_za_urednike);
task.getExecution().getVariable("predlog_za_rad").add(preporuka);</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_06blx1p</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1hj3fcy</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0cx82yn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1piq5ox</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${koRecenzira}" camunda:elementVariable="JedRec" />
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0z6nr88" attachedToRef="Task_00qk1br">
      <bpmn:outgoing>SequenceFlow_006casc</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT70S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_006casc" sourceRef="IntermediateThrowEvent_0z6nr88" targetRef="Task_1vmkaqa" />
    <bpmn:sequenceFlow id="SequenceFlow_0dukg1b" sourceRef="Task_0yjxfow" targetRef="EndEvent_06wwemk" />
    <bpmn:serviceTask id="Task_0yjxfow" name="Notifikacija da tekst rada nije tematski&#10;prikladan za časopis" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0v7bff0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0dukg1b</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_15l8kbk" name="Informacije o radu 2" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov2" label="Naslov rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_naslov&#34;)}" />
          <camunda:formField id="br_koautora2" label="Broj koautora" type="long" defaultValue="${br_koautora}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucni_pojmovi2" label="Ključni pojmovi" type="string" defaultValue="${execution.getVariable(&#34;konacan_kljuc_poj&#34;)}" />
          <camunda:formField id="apstrakt2" label="Apstrakt" type="string" defaultValue="${execution.getVariable(&#34;konacan_apstrakt&#34;)}" />
          <camunda:formField id="naucna_oblast2" label="Primarna naučna oblast" type="enum" defaultValue="${execution.getVariable(&#34;konacan_nauc_obl&#34;)}">
            <camunda:value id="matematika" name="Matematika" />
            <camunda:value id="fizika" name="Fizika" />
            <camunda:value id="hemija" name="Hemija" />
          </camunda:formField>
          <camunda:formField id="komentar_urednika" label="Komentar urednika" type="string" defaultValue="${komentar_ur}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">task.getExecution().setVariable("konacan_naslov", naslov2);
task.getExecution().setVariable("konacan_apstrakt", apstrakt2);
task.getExecution().setVariable("konacan_kljuc_poj", kljucni_pojmovi2);
task.getExecution().setVariable("konacan_nauc_obl", naucna_oblast2);</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0j8emh4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0562f56</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0562f56" sourceRef="UserTask_15l8kbk" targetRef="Task_0iov86n" />
    <bpmn:serviceTask id="Task_1jgzrd5" name="Slanje notifikacije o novom radu" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_1omgf67</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pesu7c</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_012c1fy" sourceRef="Task_0eg9wz8" targetRef="Task_0lyys66" />
    <bpmn:scriptTask id="Task_0eg9wz8" name="liste za komentare" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_1q7bl5q</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_012c1fy</bpmn:outgoing>
      <bpmn:script>var temp_comm=[];
var ArrayList = Java.type("java.util.ArrayList");
var instance = new ArrayList(temp_comm);
execution.setVariable("komentari_za_urednike", instance);
execution.setVariable("komentari_za_autore", instance);
execution.setVariable("predlog_za_rad", instance);

var ko_recenzira = new ArrayList(temp_comm);
if(execution.getVariable("usersList") == null) {
ko_recenzira.push("mary");
} else {
ko_recenzira = execution.getVariable("usersList");
}
execution.setVariable("koRecenzira", ko_recenzira);</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Task_0x43sul" name="Izaberi novog urednika" camunda:assignee="${ko_bira}">
      <bpmn:extensionElements>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recen = task.getExecution().getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

formFields = taskFormData.getFormFields();
vec_izabrani = task.getExecution().getVariable("izabrani_recenzenti");
if(formFields!=null) {
   for(field in formFields) {
       if( field.getId() == "novi_recenzent") {
           //ovo je nase select polje
           items = field.getType().getValues();
           tempo = "nema";
           for(user in recen) {
                if(vec_izabrani != null) {
                    for(izb in vec_izabrani) {
                        if(izb.getId() == user.getId()) {
                            tempo = "ima";
                            break;
                        }
                    }
                    if(tempo == "nema") {
                        items.put(user.getId(),user.getFirstName()+" "+user.getLastName());
                    }
                } else {
                    items.put(user.getId(),user.getFirstName()+" "+user.getLastName());
                }
           }
       }
   }
}</camunda:script>
        </camunda:taskListener>
        <camunda:formData>
          <camunda:formField id="novi_recenzent" label="Novi recenzent" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
userIds = task.getExecution().getVariable("usersList");

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "novi_recenzent"){
           if(field.getValue()!="none") {
                userIds.add(field.getValue());
//task.getExecution().getVariable("izabrani_recenzenti").add(field.getValue());
           }
       }
   }
}
task.getExecution().setVariable("pomocna", ${ko_bira});
task.getExecution().setVariable("usersList", userIds);</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0c23sik</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10usqhj</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_10usqhj" sourceRef="Task_0x43sul" targetRef="Task_0qh5fqq" />
    <bpmn:userTask id="Task_0og9ju5" name="Urednik pregleda ocene" camunda:assignee="${ko_bira}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="posl_komentar_o_radu" label="Komentar o radu" type="string" defaultValue="${komentari_za_autore.get(0)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="posl_preporuka" label="Preporuka" type="string" defaultValue="${predlog_za_rad.get(0)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="posl_komentar_za_urednika" label="Komentar za urednika" type="string" defaultValue="${komentari_za_urednike.get(0)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="prihvati_rad" label="Odluka o objavljivanju" type="enum">
            <camunda:value id="prihvatiti" name="Prihvatiti" />
            <camunda:value id="manje_ispravke" name="Prihvatiti uz manje ispravke" />
            <camunda:value id="uslovno" name="Prihvatiti uz veće ispravke" />
            <camunda:value id="odbiti" name="Odbiti" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1piq5ox</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0skuxvi</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_04wi29t" default="SequenceFlow_0kbi0hc">
      <bpmn:incoming>SequenceFlow_0skuxvi</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_09ykojd</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_112zg62</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0kbi0hc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0skuxvi" sourceRef="Task_0og9ju5" targetRef="ExclusiveGateway_04wi29t" />
    <bpmn:sequenceFlow id="SequenceFlow_09ykojd" sourceRef="ExclusiveGateway_04wi29t" targetRef="Task_1up45oz">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvati_rad=="odbiti"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1dv8tvg" sourceRef="Task_1up45oz" targetRef="EndEvent_0rsoy42" />
    <bpmn:serviceTask id="Task_1up45oz" name="Notifikacija autoru da je rad odbijen" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_09ykojd</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dv8tvg</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_0f6b3nm" name="Notifikacija autoru da je rad prihvacen" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_112zg62</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06hiuri</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_1v8l23g">
      <bpmn:incoming>SequenceFlow_09vxtik</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_06hiuri" sourceRef="ServiceTask_0f6b3nm" targetRef="ServiceTask_0r5gdj9" />
    <bpmn:sequenceFlow id="SequenceFlow_112zg62" sourceRef="ExclusiveGateway_04wi29t" targetRef="ServiceTask_0f6b3nm">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvati_rad=="prihvatiti"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0kbi0hc" sourceRef="ExclusiveGateway_04wi29t" targetRef="Task_009c3tj" />
    <bpmn:serviceTask id="Task_009c3tj" name="Notifikacija o vrsenju izmena autoru" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0kbi0hc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1j0hq85</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1j0hq85" sourceRef="Task_009c3tj" targetRef="Task_0mj6q22" />
    <bpmn:userTask id="Task_0mj6q22" name="Prikazivanje komentara autoru" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="prikaz_recen_komentara" label="Komentar recenzenta" type="string" defaultValue="${komentari_za_autore.get(0)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="komentar_o_promeni" label="Odgovor na komentar" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="naslov3" label="Naslov rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_naslov&#34;)}">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucni_pojmovi3" label="Ključni pojmovi" type="string" defaultValue="${execution.getVariable(&#34;konacan_kljuc_poj&#34;)}">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstrakt3" label="Apstrakt rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_apstrakt&#34;)}">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">task.getExecution().setVariable("konacan_naslov", naslov3);
task.getExecution().setVariable("konacan_apstrakt", apstrakt3);
task.getExecution().setVariable("konacan_kljuc_poj", kljucni_pojmovi3);</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1j0hq85</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_12a7v25</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0idcs2v" attachedToRef="Task_0mj6q22">
      <bpmn:outgoing>SequenceFlow_0rdoj1g</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT70S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_12a7v25" sourceRef="Task_0mj6q22" targetRef="ExclusiveGateway_1ot0ggw" />
    <bpmn:userTask id="Task_0krw8lr" name="Urednik ponovo pregleda" camunda:assignee="${ko_bira}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="kom_rec" label="Komentar recenzenta" type="string" defaultValue="${komentari_za_autore.get(0)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="odg_aut" label="Odgovor autora" type="string" defaultValue="${komentar_o_promeni}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="nslv" label="Naslov rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_naslov&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljcrc" label="Ključni pojmovi" type="string" defaultValue="${execution.getVariable(&#34;konacan_kljuc_poj&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apst" label="Apstrakt rada" type="string" defaultValue="${execution.getVariable(&#34;konacan_apstrakt&#34;)}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="sta_s_radom" label="Odluka o radu" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="prihvati" name="Prihvati" />
            <camunda:value id="doradi" name="Pošalji na doradu" />
            <camunda:value id="odbij" name="Odbij" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_11xwlid</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1ei98z0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_121chw5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1ot0ggw">
      <bpmn:incoming>SequenceFlow_12a7v25</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_11xwlid</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0lidci0</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_11xwlid" sourceRef="ExclusiveGateway_1ot0ggw" targetRef="Task_0krw8lr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvati_rad=="manje_ispravke"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0lidci0" sourceRef="ExclusiveGateway_1ot0ggw" targetRef="Task_00ncnbs">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvati_rad=="uslovno"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_06blx1p" sourceRef="Task_00ncnbs" targetRef="Task_00qk1br" />
    <bpmn:scriptTask id="Task_00ncnbs" name="uzimanje izabranih recenzenata" scriptFormat="javascript">
      <bpmn:incoming>SequenceFlow_0lidci0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06blx1p</bpmn:outgoing>
      <bpmn:script>execution.setVariable("userList", execution.getVariable("izabrani_recenzenti"));</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_0rdoj1g" sourceRef="IntermediateThrowEvent_0idcs2v" targetRef="Task_1eoa0if" />
    <bpmn:serviceTask id="Task_1eoa0if" name="Obavesti autora da nije ispunio uslove i da je rad odbijen" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0rdoj1g</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1phmbyz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1x58jfd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_1o5jhga">
      <bpmn:incoming>SequenceFlow_1x58jfd</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1x58jfd" sourceRef="Task_1eoa0if" targetRef="EndEvent_1o5jhga" />
    <bpmn:sequenceFlow id="SequenceFlow_121chw5" sourceRef="Task_0krw8lr" targetRef="ExclusiveGateway_16zovem" />
    <bpmn:serviceTask id="Task_04t5dn0" name="Obavesti autora" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0a3da6h</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xzyppe</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1xzyppe" sourceRef="Task_04t5dn0" targetRef="Task_1xmmkkj" />
    <bpmn:userTask id="Task_1xmmkkj" name="Autor ponovo ispravlja" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="kraj" label="Posalji ispravljeni rad" type="boolean" defaultValue="true" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1xzyppe</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ei98z0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_16zovem">
      <bpmn:incoming>SequenceFlow_121chw5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0a3da6h</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_13yb3a4</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ujl8wt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0a3da6h" sourceRef="ExclusiveGateway_16zovem" targetRef="Task_04t5dn0">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${sta_s_radom=="doradi"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_13yb3a4" sourceRef="ExclusiveGateway_16zovem" targetRef="Task_08vlgxh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${sta_s_radom=="prihvati"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ei98z0" sourceRef="Task_1xmmkkj" targetRef="Task_0krw8lr" />
    <bpmn:sequenceFlow id="SequenceFlow_1phmbyz" sourceRef="IntermediateThrowEvent_0fiprux" targetRef="Task_1eoa0if" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0fiprux" attachedToRef="Task_1xmmkkj">
      <bpmn:outgoing>SequenceFlow_1phmbyz</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT60S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_0pv7eka">
      <bpmn:incoming>SequenceFlow_1eobevn</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_10x3g2s" sourceRef="Task_08vlgxh" targetRef="Task_07p9lqq" />
    <bpmn:serviceTask id="Task_08vlgxh" name="Notifikacija autoru da je rad prihvacen" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_13yb3a4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10x3g2s</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ujl8wt" sourceRef="ExclusiveGateway_16zovem" targetRef="Task_0kmej32">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${sta_s_radom=="odbij"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_1f1y530">
      <bpmn:incoming>SequenceFlow_0ycdvpw</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0ycdvpw" sourceRef="Task_0kmej32" targetRef="EndEvent_1f1y530" />
    <bpmn:serviceTask id="Task_0kmej32" name="Notifikacija autoru da je rad odbijen" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0ujl8wt</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ycdvpw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1eobevn" sourceRef="Task_07p9lqq" targetRef="EndEvent_0pv7eka" />
    <bpmn:serviceTask id="Task_07p9lqq" name="Uvrsti rad u casopis" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_10x3g2s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1eobevn</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_0r5gdj9" name="Uvrsti rad u casopis" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_06hiuri</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_09vxtik</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_09vxtik" sourceRef="ServiceTask_0r5gdj9" targetRef="EndEvent_1v8l23g" />
    <bpmn:sequenceFlow id="SequenceFlow_1hj3fcy" sourceRef="Task_0lyys66" targetRef="Task_00qk1br" />
    <bpmn:serviceTask id="Task_0lyys66" name="Notifikacija recenzentima" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_012c1fy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1hj3fcy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0cx82yn" sourceRef="Task_0qh5fqq" targetRef="Task_00qk1br" />
    <bpmn:sequenceFlow id="SequenceFlow_0c23sik" sourceRef="Task_1vmkaqa" targetRef="Task_0x43sul" />
    <bpmn:serviceTask id="Task_1vmkaqa" name="Obavesti o ponovnom biranju" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_006casc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0c23sik</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0qh5fqq" name="Obavesti recenzenta" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_10usqhj</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cx82yn</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_18wak7i" name="Biranje recenzenata" camunda:assignee="${ko_bira_rec}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="br_recenzenata" label="Broj recenzenata?" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="min" config="2" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_10ok1ip</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wio9nl</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_10ok1ip" sourceRef="Task_0evpwh4" targetRef="Task_18wak7i" />
    <bpmn:scriptTask id="Task_0evpwh4" name="ko bira recenzente" scriptFormat="JavaScript">
      <bpmn:incoming>SequenceFlow_1pesu7c</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10ok1ip</bpmn:outgoing>
      <bpmn:script>if(execution.getVariable("casopis")!="casopis2"){
execution.setVariable("ko_bira_rec", "mary");
} else {
execution.setVariable("ko_bira_rec", "ragnar");
}</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_1pesu7c" sourceRef="Task_1jgzrd5" targetRef="Task_0evpwh4" />
    <bpmn:sequenceFlow id="SequenceFlow_1wio9nl" sourceRef="Task_18wak7i" targetRef="Task_0nvcp2z" />
    <bpmn:userTask id="Task_03ls2f7" name="Unesi koautore" camunda:assignee="${pokretac}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="ime_koautora" label="Ime koautora" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email_koautora" label="Email koautora" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="grad_koautora" label="Grad koautora" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="drzava_koautora" label="Država koautora" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener class="com.naucnacentrala.NaucnaCentrala.services.tasks.PostaviZaduzenogAutora" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0kilsgs</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dzxmo0</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">${br_koautora}</bpmn:loopCardinality>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1dzxmo0" sourceRef="Task_03ls2f7" targetRef="Task_1lt2i47" />
    <bpmn:sequenceFlow id="SequenceFlow_0kilsgs" sourceRef="Task_1swk4nk" targetRef="Task_03ls2f7" />
    <bpmn:serviceTask id="ServiceTask_0kciy5t" name="Provera da li ima aktivnu clanarinu" camunda:class="com.naucnacentrala.NaucnaCentrala.services.tasks.ProveraAktivneClanarine">
      <bpmn:incoming>SequenceFlow_0sz8fze</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1okqclf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1okqclf" sourceRef="ServiceTask_0kciy5t" targetRef="ExclusiveGateway_00ockiu" />
    <bpmn:textAnnotation id="TextAnnotation_01rvws0">
      <bpmn:text>Promeniti assignee i recenzente</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1x6nbe0" sourceRef="Task_0y9s6dy" targetRef="TextAnnotation_01rvws0" />
    <bpmn:textAnnotation id="TextAnnotation_110fn7g">
      <bpmn:text>Promeni ko_bira</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1hpxcz6" sourceRef="Task_0nvcp2z" targetRef="TextAnnotation_110fn7g" />
    <bpmn:textAnnotation id="TextAnnotation_1ximctd">
      <bpmn:text>NECE ZAKOMENTARISANO</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1ydggnx" sourceRef="Task_0y9s6dy" targetRef="TextAnnotation_1ximctd" />
    <bpmn:textAnnotation id="TextAnnotation_1ff3hn4">
      <bpmn:text>NECE</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_17dbac3" sourceRef="Task_0x43sul" targetRef="TextAnnotation_1ff3hn4" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="obrada_teksta">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="662" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_06h1a9d_di" bpmnElement="SequenceFlow_06h1a9d">
        <di:waypoint x="188" y="680" />
        <di:waypoint x="230" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1an21el_di" bpmnElement="Task_01ocn8q">
        <dc:Bounds x="230" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0rsoy42_di" bpmnElement="EndEvent_0rsoy42">
        <dc:Bounds x="3602" y="902" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pw4g6v_di" bpmnElement="SequenceFlow_1pw4g6v">
        <di:waypoint x="330" y="680" />
        <di:waypoint x="380" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0sz8fze_di" bpmnElement="SequenceFlow_0sz8fze">
        <di:waypoint x="480" y="680" />
        <di:waypoint x="520" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_12yg271_di" bpmnElement="Task_01fyplv">
        <dc:Bounds x="380" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_00ockiu_di" bpmnElement="ExclusiveGateway_00ockiu" isMarkerVisible="true">
        <dc:Bounds x="675" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ojcuzh_di" bpmnElement="SequenceFlow_0ojcuzh">
        <di:waypoint x="725" y="680" />
        <di:waypoint x="795" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1t9dosd_di" bpmnElement="ExclusiveGateway_1t9dosd" isMarkerVisible="true">
        <dc:Bounds x="795" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1c73se4_di" bpmnElement="SequenceFlow_1c73se4">
        <di:waypoint x="845" y="680" />
        <di:waypoint x="950" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ora5e8_di" bpmnElement="SequenceFlow_1ora5e8">
        <di:waypoint x="820" y="655" />
        <di:waypoint x="820" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_05rvtn2_di" bpmnElement="Task_1swk4nk">
        <dc:Bounds x="950" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0tlkyfp_di" bpmnElement="SequenceFlow_0tlkyfp">
        <di:waypoint x="700" y="705" />
        <di:waypoint x="700" y="760" />
        <di:waypoint x="1000" y="760" />
        <di:waypoint x="1000" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_00icp8u_di" bpmnElement="SequenceFlow_00icp8u">
        <di:waypoint x="870" y="510" />
        <di:waypoint x="1000" y="510" />
        <di:waypoint x="1000" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_1adgpvz_di" bpmnElement="Task_0rz08j8">
        <dc:Bounds x="770" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1wedvfn_di" bpmnElement="SequenceFlow_1wedvfn">
        <di:waypoint x="1440" y="680" />
        <di:waypoint x="1510" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_063foda_di" bpmnElement="Task_1lt2i47">
        <dc:Bounds x="1340" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1w3fxv3_di" bpmnElement="SequenceFlow_1w3fxv3">
        <di:waypoint x="1610" y="680" />
        <di:waypoint x="1650" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_00b8smy_di" bpmnElement="Task_0iov86n">
        <dc:Bounds x="1510" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0bzcj84_di" bpmnElement="SequenceFlow_0bzcj84">
        <di:waypoint x="1750" y="680" />
        <di:waypoint x="1795" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0gehmik_di" bpmnElement="Task_0aojsa7">
        <dc:Bounds x="1650" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1gmdxef_di" bpmnElement="ExclusiveGateway_1gmdxef" isMarkerVisible="true">
        <dc:Bounds x="1795" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0zcduqg_di" bpmnElement="SequenceFlow_0zcduqg">
        <di:waypoint x="1845" y="680" />
        <di:waypoint x="1925" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_06wwemk_di" bpmnElement="EndEvent_06wwemk">
        <dc:Bounds x="1802" y="462" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0v7bff0_di" bpmnElement="SequenceFlow_0v7bff0">
        <di:waypoint x="1820" y="655" />
        <di:waypoint x="1820" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_13zvubl_di" bpmnElement="ExclusiveGateway_13zvubl" isMarkerVisible="true">
        <dc:Bounds x="1925" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13wto9w_di" bpmnElement="SequenceFlow_13wto9w">
        <di:waypoint x="1975" y="680" />
        <di:waypoint x="2020" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0v1qrlt_di" bpmnElement="SequenceFlow_0v1qrlt">
        <di:waypoint x="1950" y="705" />
        <di:waypoint x="1950" y="770" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1y6vslm_di" bpmnElement="Task_1foeowx">
        <dc:Bounds x="1730" y="770" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0sdpw9q_di" bpmnElement="SequenceFlow_0sdpw9q">
        <di:waypoint x="1900" y="810" />
        <di:waypoint x="1830" y="810" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0hmjfbt_di" bpmnElement="Task_17w29jh">
        <dc:Bounds x="1900" y="770" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0j8emh4_di" bpmnElement="SequenceFlow_0j8emh4">
        <di:waypoint x="1730" y="810" />
        <di:waypoint x="1610" y="810" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_16fy154_di" bpmnElement="IntermediateThrowEvent_0ex1rec">
        <dc:Bounds x="1572" y="832" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1dqs1x4_di" bpmnElement="SequenceFlow_1dqs1x4">
        <di:waypoint x="1590" y="868" />
        <di:waypoint x="1590" y="930" />
        <di:waypoint x="1620" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0zu2af9_di" bpmnElement="Task_1maw3eh">
        <dc:Bounds x="1620" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_17998l0_di" bpmnElement="EndEvent_17998l0">
        <dc:Bounds x="1852" y="912" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0trmaww_di" bpmnElement="SequenceFlow_0trmaww">
        <di:waypoint x="1720" y="930" />
        <di:waypoint x="1852" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1omgf67_di" bpmnElement="SequenceFlow_1omgf67">
        <di:waypoint x="2120" y="680" />
        <di:waypoint x="2160" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1wcp0fw_di" bpmnElement="Task_0doofr4">
        <dc:Bounds x="2020" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_01ksx6s_di" bpmnElement="SequenceFlow_01ksx6s">
        <di:waypoint x="2680" y="680" />
        <di:waypoint x="2788" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1f06q46_di" bpmnElement="Task_0nvcp2z">
        <dc:Bounds x="2580" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_08qcdzl_di" bpmnElement="ExclusiveGateway_08qcdzl" isMarkerVisible="true">
        <dc:Bounds x="2788" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1okhdr2_di" bpmnElement="SequenceFlow_1okhdr2">
        <di:waypoint x="2813" y="655" />
        <di:waypoint x="2813" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_05a8ei7_di" bpmnElement="Task_137rnoe">
        <dc:Bounds x="2763" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0cm04d8_di" bpmnElement="SequenceFlow_0cm04d8">
        <di:waypoint x="2863" y="530" />
        <di:waypoint x="2970" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1a4a4hn_di" bpmnElement="Task_0y9s6dy">
        <dc:Bounds x="2970" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_01rvws0_di" bpmnElement="TextAnnotation_01rvws0">
        <dc:Bounds x="3030" y="410" width="100" height="55" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1x6nbe0_di" bpmnElement="Association_1x6nbe0">
        <di:waypoint x="3046" y="490" />
        <di:waypoint x="3062" y="465" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1r162xz_di" bpmnElement="SequenceFlow_1r162xz">
        <di:waypoint x="3020" y="570" />
        <di:waypoint x="3020" y="655" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1mvcc56_di" bpmnElement="ExclusiveGateway_1mvcc56" isMarkerVisible="true">
        <dc:Bounds x="2995" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1q7bl5q_di" bpmnElement="SequenceFlow_1q7bl5q">
        <di:waypoint x="3045" y="680" />
        <di:waypoint x="3060" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_050t4ko_di" bpmnElement="SequenceFlow_050t4ko">
        <di:waypoint x="2995" y="680" />
        <di:waypoint x="2838" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_110fn7g_di" bpmnElement="TextAnnotation_110fn7g">
        <dc:Bounds x="2610" y="770" width="106" height="29" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1hpxcz6_di" bpmnElement="Association_1hpxcz6">
        <di:waypoint x="2643" y="720" />
        <di:waypoint x="2658" y="770" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18xm6ek_di" bpmnElement="SequenceFlow_18xm6ek">
        <di:waypoint x="2813" y="705" />
        <di:waypoint x="2813" y="760" />
        <di:waypoint x="2860" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0xvmhmy_di" bpmnElement="SequenceFlow_0xvmhmy">
        <di:waypoint x="2960" y="760" />
        <di:waypoint x="3020" y="760" />
        <di:waypoint x="3020" y="705" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0hsufgq_di" bpmnElement="Task_13zd2iz">
        <dc:Bounds x="2860" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1piq5ox_di" bpmnElement="SequenceFlow_1piq5ox">
        <di:waypoint x="3400" y="680" />
        <di:waypoint x="3450" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0c3vvsv_di" bpmnElement="Task_00qk1br">
        <dc:Bounds x="3300" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_03bbwha_di" bpmnElement="IntermediateThrowEvent_0z6nr88">
        <dc:Bounds x="3362" y="702" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_006casc_di" bpmnElement="SequenceFlow_006casc">
        <di:waypoint x="3380" y="738" />
        <di:waypoint x="3380" y="760" />
        <di:waypoint x="3420" y="760" />
        <di:waypoint x="3420" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0dukg1b_di" bpmnElement="SequenceFlow_0dukg1b">
        <di:waypoint x="1820" y="530" />
        <di:waypoint x="1820" y="498" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0h7m5yr_di" bpmnElement="Task_0yjxfow">
        <dc:Bounds x="1770" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_15l8kbk_di" bpmnElement="UserTask_15l8kbk">
        <dc:Bounds x="1510" y="770" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0562f56_di" bpmnElement="SequenceFlow_0562f56">
        <di:waypoint x="1560" y="770" />
        <di:waypoint x="1560" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_04vzxhk_di" bpmnElement="Task_1jgzrd5">
        <dc:Bounds x="2160" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_012c1fy_di" bpmnElement="SequenceFlow_012c1fy">
        <di:waypoint x="3160" y="680" />
        <di:waypoint x="3180" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_0xqb9sz_di" bpmnElement="Task_0eg9wz8">
        <dc:Bounds x="3060" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_08zismr_di" bpmnElement="Task_0x43sul">
        <dc:Bounds x="3290" y="910" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_10usqhj_di" bpmnElement="SequenceFlow_10usqhj">
        <di:waypoint x="3310" y="910" />
        <di:waypoint x="3310" y="890" />
        <di:waypoint x="3270" y="890" />
        <di:waypoint x="3270" y="860" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1k7t0up_di" bpmnElement="Task_0og9ju5">
        <dc:Bounds x="3450" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_04wi29t_di" bpmnElement="ExclusiveGateway_04wi29t" isMarkerVisible="true">
        <dc:Bounds x="3595" y="655" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0skuxvi_di" bpmnElement="SequenceFlow_0skuxvi">
        <di:waypoint x="3550" y="680" />
        <di:waypoint x="3595" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_09ykojd_di" bpmnElement="SequenceFlow_09ykojd">
        <di:waypoint x="3620" y="705" />
        <di:waypoint x="3620" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1dv8tvg_di" bpmnElement="SequenceFlow_1dv8tvg">
        <di:waypoint x="3620" y="840" />
        <di:waypoint x="3620" y="902" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0kil0xf_di" bpmnElement="Task_1up45oz">
        <dc:Bounds x="3570" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0f6b3nm_di" bpmnElement="ServiceTask_0f6b3nm">
        <dc:Bounds x="3700" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1v8l23g_di" bpmnElement="EndEvent_1v8l23g">
        <dc:Bounds x="4062" y="662" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_06hiuri_di" bpmnElement="SequenceFlow_06hiuri">
        <di:waypoint x="3800" y="680" />
        <di:waypoint x="3870" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_112zg62_di" bpmnElement="SequenceFlow_112zg62">
        <di:waypoint x="3645" y="680" />
        <di:waypoint x="3700" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0kbi0hc_di" bpmnElement="SequenceFlow_0kbi0hc">
        <di:waypoint x="3620" y="655" />
        <di:waypoint x="3620" y="628" />
        <di:waypoint x="3610" y="628" />
        <di:waypoint x="3610" y="600" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1oaj3yi_di" bpmnElement="Task_009c3tj">
        <dc:Bounds x="3560" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1j0hq85_di" bpmnElement="SequenceFlow_1j0hq85">
        <di:waypoint x="3610" y="520" />
        <di:waypoint x="3610" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_03t16b4_di" bpmnElement="Task_0mj6q22">
        <dc:Bounds x="3560" y="390" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0ja4cup_di" bpmnElement="IntermediateThrowEvent_0idcs2v">
        <dc:Bounds x="3642" y="452" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_12a7v25_di" bpmnElement="SequenceFlow_12a7v25">
        <di:waypoint x="3610" y="390" />
        <di:waypoint x="3610" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_130995q_di" bpmnElement="Task_0krw8lr">
        <dc:Bounds x="3720" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ot0ggw_di" bpmnElement="ExclusiveGateway_1ot0ggw" isMarkerVisible="true">
        <dc:Bounds x="3585" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_11xwlid_di" bpmnElement="SequenceFlow_11xwlid">
        <di:waypoint x="3635" y="340" />
        <di:waypoint x="3720" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0lidci0_di" bpmnElement="SequenceFlow_0lidci0">
        <di:waypoint x="3585" y="340" />
        <di:waypoint x="3350" y="340" />
        <di:waypoint x="3350" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06blx1p_di" bpmnElement="SequenceFlow_06blx1p">
        <di:waypoint x="3350" y="480" />
        <di:waypoint x="3350" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1d4nwx0_di" bpmnElement="Task_00ncnbs">
        <dc:Bounds x="3300" y="400" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0rdoj1g_di" bpmnElement="SequenceFlow_0rdoj1g">
        <di:waypoint x="3660" y="488" />
        <di:waypoint x="3660" y="510" />
        <di:waypoint x="3800" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1voljjv_di" bpmnElement="Task_1eoa0if">
        <dc:Bounds x="3800" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1o5jhga_di" bpmnElement="EndEvent_1o5jhga">
        <dc:Bounds x="3952" y="492" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1x58jfd_di" bpmnElement="SequenceFlow_1x58jfd">
        <di:waypoint x="3900" y="510" />
        <di:waypoint x="3952" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_121chw5_di" bpmnElement="SequenceFlow_121chw5">
        <di:waypoint x="3770" y="300" />
        <di:waypoint x="3770" y="265" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0lbj9s9_di" bpmnElement="Task_04t5dn0">
        <dc:Bounds x="3920" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1xzyppe_di" bpmnElement="SequenceFlow_1xzyppe">
        <di:waypoint x="3970" y="280" />
        <di:waypoint x="3970" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0geh5u5_di" bpmnElement="Task_1xmmkkj">
        <dc:Bounds x="3920" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_16zovem_di" bpmnElement="ExclusiveGateway_16zovem" isMarkerVisible="true">
        <dc:Bounds x="3745" y="215" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0a3da6h_di" bpmnElement="SequenceFlow_0a3da6h">
        <di:waypoint x="3795" y="240" />
        <di:waypoint x="3920" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_13yb3a4_di" bpmnElement="SequenceFlow_13yb3a4">
        <di:waypoint x="3770" y="215" />
        <di:waypoint x="3770" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ei98z0_di" bpmnElement="SequenceFlow_1ei98z0">
        <di:waypoint x="3920" y="340" />
        <di:waypoint x="3820" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1phmbyz_di" bpmnElement="SequenceFlow_1phmbyz">
        <di:waypoint x="4000" y="398" />
        <di:waypoint x="4000" y="480" />
        <di:waypoint x="3900" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_0njygqc_di" bpmnElement="IntermediateThrowEvent_0fiprux">
        <dc:Bounds x="3982" y="362" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0pv7eka_di" bpmnElement="EndEvent_0pv7eka">
        <dc:Bounds x="4062" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_10x3g2s_di" bpmnElement="SequenceFlow_10x3g2s">
        <di:waypoint x="3820" y="120" />
        <di:waypoint x="3890" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1f4yp6p_di" bpmnElement="Task_08vlgxh">
        <dc:Bounds x="3720" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ujl8wt_di" bpmnElement="SequenceFlow_0ujl8wt">
        <di:waypoint x="3745" y="240" />
        <di:waypoint x="3680" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1f1y530_di" bpmnElement="EndEvent_1f1y530">
        <dc:Bounds x="3562" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ycdvpw_di" bpmnElement="SequenceFlow_0ycdvpw">
        <di:waypoint x="3630" y="200" />
        <di:waypoint x="3630" y="120" />
        <di:waypoint x="3598" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1cfnq3a_di" bpmnElement="Task_0kmej32">
        <dc:Bounds x="3580" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1eobevn_di" bpmnElement="SequenceFlow_1eobevn">
        <di:waypoint x="3990" y="120" />
        <di:waypoint x="4062" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0ry0spc_di" bpmnElement="Task_07p9lqq">
        <dc:Bounds x="3890" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0r5gdj9_di" bpmnElement="ServiceTask_0r5gdj9">
        <dc:Bounds x="3870" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_09vxtik_di" bpmnElement="SequenceFlow_09vxtik">
        <di:waypoint x="3970" y="680" />
        <di:waypoint x="4062" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1ximctd_di" bpmnElement="TextAnnotation_1ximctd">
        <dc:Bounds x="3100" y="487" width="145" height="46" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1ydggnx_di" bpmnElement="Association_1ydggnx">
        <di:waypoint x="3070" y="523" />
        <di:waypoint x="3100" y="519" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1ff3hn4_di" bpmnElement="TextAnnotation_1ff3hn4">
        <dc:Bounds x="3300" y="1030" width="100" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_17dbac3_di" bpmnElement="Association_17dbac3">
        <di:waypoint x="3354" y="990" />
        <di:waypoint x="3351" y="1030" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1hj3fcy_di" bpmnElement="SequenceFlow_1hj3fcy">
        <di:waypoint x="3280" y="680" />
        <di:waypoint x="3300" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_14ylyw4_di" bpmnElement="Task_0lyys66">
        <dc:Bounds x="3180" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0cx82yn_di" bpmnElement="SequenceFlow_0cx82yn">
        <di:waypoint x="3270" y="780" />
        <di:waypoint x="3270" y="750" />
        <di:waypoint x="3310" y="750" />
        <di:waypoint x="3310" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0c23sik_di" bpmnElement="SequenceFlow_0c23sik">
        <di:waypoint x="3420" y="860" />
        <di:waypoint x="3420" y="890" />
        <di:waypoint x="3380" y="890" />
        <di:waypoint x="3380" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1myuzvs_di" bpmnElement="Task_1vmkaqa">
        <dc:Bounds x="3370" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1yys2gz_di" bpmnElement="Task_0qh5fqq">
        <dc:Bounds x="3220" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0hqqzm0_di" bpmnElement="Task_18wak7i">
        <dc:Bounds x="2440" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_10ok1ip_di" bpmnElement="SequenceFlow_10ok1ip">
        <di:waypoint x="2400" y="680" />
        <di:waypoint x="2440" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_0kswhs9_di" bpmnElement="Task_0evpwh4">
        <dc:Bounds x="2300" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pesu7c_di" bpmnElement="SequenceFlow_1pesu7c">
        <di:waypoint x="2260" y="680" />
        <di:waypoint x="2300" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1wio9nl_di" bpmnElement="SequenceFlow_1wio9nl">
        <di:waypoint x="2540" y="680" />
        <di:waypoint x="2580" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_13lzgp6_di" bpmnElement="Task_03ls2f7">
        <dc:Bounds x="1130" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1dzxmo0_di" bpmnElement="SequenceFlow_1dzxmo0">
        <di:waypoint x="1230" y="680" />
        <di:waypoint x="1340" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0kilsgs_di" bpmnElement="SequenceFlow_0kilsgs">
        <di:waypoint x="1050" y="680" />
        <di:waypoint x="1130" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0kciy5t_di" bpmnElement="ServiceTask_0kciy5t">
        <dc:Bounds x="520" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1okqclf_di" bpmnElement="SequenceFlow_1okqclf">
        <di:waypoint x="620" y="680" />
        <di:waypoint x="675" y="680" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
